!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="./",e(0)}([function(t,e,r){t.exports=r(2)},function(t,e){"use strict";function r(t,e){function r(){var t=Math.pow(2,Math.floor(Math.log2(Math.min(window.innerWidth,window.innerHeight))));n.width=t,n.height=t,i.viewport(0,0,n.width,n.height)}var n=(document.body,document.querySelector("canvas")),i=n.getContext("webgl");r(),window.addEventListener("resize",r),i.clearColor(0,0,0,1),i.clear(i.COLOR_BUFFER_BIT);var o=i.createShader(i.VERTEX_SHADER);if(i.shaderSource(o,t),i.compileShader(o),!i.getShaderParameter(o,i.COMPILE_STATUS))throw new Error("An error occurred compiling the shader: "+i.getShaderInfoLog(o));console.log("Vertex shader compiled");var a=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(a,e),i.compileShader(a),!i.getShaderParameter(a,i.COMPILE_STATUS))throw new Error("An error occurred compiling the shader: "+i.getShaderInfoLog(a));console.log("Fragment shader compiled");var l=i.createProgram();if(i.attachShader(l,o),i.attachShader(l,a),i.linkProgram(l),!i.getProgramParameter(l,i.LINK_STATUS))throw new Error("Unable to initialize the shader program.");return console.log("Initialized shader program"),i.useProgram(l),{gl:i,shaderProgram:l}}Object.defineProperty(e,"__esModule",{value:!0}),e.createProgram=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){c.uniform2f(h,A[0],A[1]),c.bindFramebuffer(c.FRAMEBUFFER,m),0==p?(c.bindTexture(c.TEXTURE_2D,g),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,_,0)):(c.bindTexture(c.TEXTURE_2D,_),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0)),c.drawArrays(c.TRIANGLE_STRIP,0,f.length/3),c.bindFramebuffer(c.FRAMEBUFFER,null),c.drawArrays(c.TRIANGLE_STRIP,0,f.length/3),p=(p+1)%2,c.bindTexture(c.TEXTURE_2D,null),requestAnimationFrame(i)}var o=r(1),a=r(4),l=n(a),u=r(3),E=n(u);console.log("üê≠");var s=(new l.default({shaderSource:E.default}),(0,o.createProgram)(E.default.vertexSource,E.default.fragmentSource)),c=s.gl,T=s.shaderProgram,v=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,v);var f=[1,1,0,-1,1,0,1,-1,0,-1,-1,0];c.bufferData(c.ARRAY_BUFFER,new Float32Array(f),c.STATIC_DRAW);var d=c.getAttribLocation(T,"aPosition");c.enableVertexAttribArray(d),c.vertexAttribPointer(d,3,c.FLOAT,!1,0,0);var R=(c.getUniformLocation(T,"uSampler"),c.getUniformLocation(T,"uWidth")),h=c.getUniformLocation(T,"uMousePosition"),g=c.createTexture();c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,g),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT);var _=c.createTexture();c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,_),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT);var m=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,m),m.width=c.canvas.width,m.height=c.canvas.height,c.texImage2D(c.TEXTURE_2D,0,c.RGBA,m.width,m.height,0,c.RGBA,c.UNSIGNED_BYTE,null);var F=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,F),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,m.width,m.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,F),c.bindTexture(c.TEXTURE_2D,null),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null);var A=[];c.canvas.addEventListener("mousemove",function(t){A=[2*(t.clientX/c.canvas.width-.5),2*(1-t.clientY/c.canvas.height-.5)]}),c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT);var P=document.createElement("canvas");P.width=c.canvas.width,P.height=c.canvas.height;var U=P.getContext("2d");U.globalAlpha=1;for(var x=0;x<c.canvas.width;x++)for(var C=0;C<c.canvas.width;C++)Math.random()<.35?(U.fillStyle="red",U.fillRect(x,C,1,1)):(U.fillStyle="black",U.fillRect(x,C,1,1));c.bindTexture(c.TEXTURE_2D,g),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,P),c.bindTexture(c.TEXTURE_2D,null),c.uniform1f(R,c.canvas.width);var p=0;requestAnimationFrame(i)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={vertexSource:"\n\t\tprecision highp float;\n\t\tattribute vec3 aPosition;\n\t\tvarying vec2 vTexturePosition;\n\t\tvarying vec2 vPosition;\n\t\tvoid main(void) {\n\t\t\tvPosition = aPosition.xy;\n\t\t\tvTexturePosition = vec2(aPosition.x + 1.0, -1.0 + aPosition.y) * 0.5;\n\t\t\tgl_Position = vec4(aPosition, 1.0);\n\t\t}\n\t",fragmentSource:"\n\t\tprecision highp float;\n\t\tuniform sampler2D uSampler;\n\t\tvarying vec2 vTexturePosition;\n\t\tvarying vec2 vPosition;\n\t\tuniform vec2 uMousePosition;\n\t\tuniform highp float uWidth;\n\n\t\tbool isLive(vec2 offset) {\n\t\t\t\tvec4 lastColor = texture2D(uSampler, vTexturePosition + offset);\n\t\t\t\tif (lastColor.r == 1.0) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t}\n\n\t\tvoid main(void) {\n\t\t\tfloat d = distance(uMousePosition, vPosition);\n\t\t\tif (d < 2.0/uWidth) {\n\t\t\t\tgl_FragColor = vec4(1.0, 0, 0, 1.0);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tint liveCount = 0;\n\t\t\tfloat step = 1.0/uWidth;\n\n\t\t\tif (isLive(vec2(-step, -step))) {liveCount++;}\n\t\t\tif (isLive(vec2(-step, 0))) {liveCount++;}\n\t\t\tif (isLive(vec2(-step, step))) {liveCount++;}\n\t\t\tif (isLive(vec2(0, -step))) {liveCount++;}\n\t\t\tif (isLive(vec2(0, step))) {liveCount++;}\n\t\t\tif (isLive(vec2(step, -step))) {liveCount++;}\n\t\t\tif (isLive(vec2(step, 0))) {liveCount++;}\n\t\t\tif (isLive(vec2(step, step))) {liveCount++;}\n\n\t\t\tif (liveCount < 2) {\n\t\t\t\tgl_FragColor = vec4(1.0, 0, 0, 1.0);\n\t\t\t} else if (liveCount < 4) {\n\t\t\t\tgl_FragColor = vec4(0, 1.0, 0, 1.0);\n\t\t\t} else if (liveCount < 8) {\n\t\t\t\tgl_FragColor = vec4(0, 0, 1.0, 1.0);\n\t\t\t} else {\n\t\t\t\tgl_FragColor = vec4(1.0, 0, 1.0, 1.0);\n\t\t\t}\n\n\t\t\tbool selfIsLive = isLive(vec2(0,0));\n\t\t\tvec4 lastColor = texture2D(uSampler, vTexturePosition);\n\t\t\tif (selfIsLive && (liveCount == 2 || liveCount == 3)) {\n\t\t\t\tif (lastColor.g < 1.0) {\n\t\t\t\t\tgl_FragColor = lastColor + vec4(1.0, 0.01, 0.0, 1.0);\n\t\t\t\t} else {\n\t\t\t\t\tgl_FragColor = lastColor + vec4(1.0, 0.0, 0.01, 1.0);\n\t\t\t\t}\n\t\t\t} else if (!selfIsLive && (liveCount == 3)) {\n\t\t\t\tgl_FragColor = vec4(1.0, 0, 0, 1.0);\n\t\t\t} else {\n\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 0.8);\n\t\t\t}\n\t\t}\n\t"};e.default=r},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=(r(1),function t(e){e.shaderSource;n(this,t)});e.default=i}]);
//# sourceMappingURL=index.js.map